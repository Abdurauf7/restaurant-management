{"ast":null,"code":"/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nimport Helpers from \"./helpers\"; // Private Functions\n\nfunction getVerticalAnchor(props, datum) {\n  datum = datum || {};\n  var sign = datum._y >= 0 ? 1 : -1;\n  var labelStyle = props.style && props.style.labels || {};\n\n  if (datum.verticalAnchor || labelStyle.verticalAnchor) {\n    return datum.verticalAnchor || labelStyle.verticalAnchor;\n  } else if (!props.horizontal) {\n    return sign >= 0 ? \"end\" : \"start\";\n  } else {\n    return \"middle\";\n  }\n}\n\nfunction getTextAnchor(props, datum) {\n  datum = datum || {};\n  var style = props.style,\n      horizontal = props.horizontal;\n  var sign = datum._y >= 0 ? 1 : -1;\n  var labelStyle = style && style.labels || {};\n\n  if (datum.verticalAnchor || labelStyle.verticalAnchor) {\n    return datum.verticalAnchor || labelStyle.verticalAnchor;\n  } else if (!horizontal) {\n    return \"middle\";\n  } else {\n    return sign >= 0 ? \"start\" : \"end\";\n  }\n}\n\nfunction getAngle(props, datum) {\n  datum = datum || {};\n  var labelStyle = props.style && props.style.labels || {};\n  return datum.angle === undefined ? labelStyle.angle : datum.angle;\n}\n\nfunction getPadding(props, datum) {\n  datum = datum || {};\n  var horizontal = props.horizontal,\n      style = props.style;\n  var labelStyle = style.labels || {};\n  var defaultPadding = Helpers.evaluateProp(labelStyle.padding, props) || 0;\n  var sign = datum._y < 0 ? -1 : 1;\n  return {\n    x: horizontal ? sign * defaultPadding : 0,\n    y: horizontal ? 0 : -1 * sign * defaultPadding\n  };\n}\n\nfunction getOffset(props, datum) {\n  if (props.polar) {\n    return {};\n  }\n\n  var padding = getPadding(props, datum);\n  return {\n    dx: padding.x,\n    dy: padding.y\n  };\n}\n\nfunction getPosition(props, datum) {\n  var polar = props.polar;\n\n  var _Helpers$scalePoint = Helpers.scalePoint(props, datum),\n      x = _Helpers$scalePoint.x,\n      y = _Helpers$scalePoint.y;\n\n  if (!polar) {\n    return {\n      x: x,\n      y: y\n    };\n  } else {\n    var polarPadding = getPolarPadding(props, datum);\n    return {\n      x: x + polarPadding.x,\n      y: y + polarPadding.y\n    };\n  }\n}\n\nfunction getPolarPadding(props, datum) {\n  var style = props.style;\n  var degrees = getDegrees(props, datum);\n  var labelStyle = style.labels || {};\n  var padding = Helpers.evaluateProp(labelStyle.padding, props) || 0;\n  var angle = Helpers.degreesToRadians(degrees);\n  return {\n    x: padding * Math.cos(angle),\n    y: -padding * Math.sin(angle)\n  };\n}\n\nfunction getLabelPlacement(props) {\n  var labelComponent = props.labelComponent,\n      labelPlacement = props.labelPlacement,\n      polar = props.polar;\n  var defaultLabelPlacement = polar ? \"perpendicular\" : \"vertical\";\n  return labelPlacement ? labelPlacement : labelComponent.props && labelComponent.props.labelPlacement || defaultLabelPlacement;\n}\n\nfunction getPolarOrientation(degrees) {\n  // eslint-disable-next-line no-magic-numbers\n  if (degrees < 45 || degrees > 315) {\n    return \"right\"; // eslint-disable-next-line no-magic-numbers\n  } else if (degrees >= 45 && degrees <= 135) {\n    return \"top\"; // eslint-disable-next-line no-magic-numbers\n  } else if (degrees > 135 && degrees < 225) {\n    return \"left\";\n  } else {\n    return \"bottom\";\n  }\n} // Exported Functions\n\n\nfunction getText(props, datum, index) {\n  datum = datum || {};\n\n  if (datum.label !== undefined) {\n    return datum.label;\n  }\n\n  return Array.isArray(props.labels) ? props.labels[index] : props.labels;\n}\n\nfunction getPolarTextAnchor(props, degrees) {\n  var labelPlacement = getLabelPlacement(props);\n\n  if (labelPlacement === \"perpendicular\" || labelPlacement === \"vertical\" && (degrees === 90 || degrees === 270)) {\n    return \"middle\";\n  }\n\n  return degrees <= 90 || degrees > 270 ? \"start\" : \"end\";\n}\n\nfunction getPolarVerticalAnchor(props, degrees) {\n  var labelPlacement = getLabelPlacement(props);\n  var orientation = getPolarOrientation(degrees);\n\n  if (labelPlacement === \"parallel\" || orientation === \"left\" || orientation === \"right\") {\n    return \"middle\";\n  }\n\n  return orientation === \"top\" ? \"end\" : \"start\";\n}\n\nfunction getPolarAngle(props, baseAngle) {\n  var labelPlacement = props.labelPlacement,\n      datum = props.datum;\n\n  if (!labelPlacement || labelPlacement === \"vertical\") {\n    return 0;\n  }\n\n  var degrees = baseAngle !== undefined ? baseAngle : getDegrees(props, datum);\n  var sign = degrees > 90 && degrees < 180 || degrees > 270 ? 1 : -1;\n  var angle;\n\n  if (degrees === 0 || degrees === 180) {\n    angle = 90;\n  } else if (degrees > 0 && degrees < 180) {\n    angle = 90 - degrees;\n  } else if (degrees > 180 && degrees < 360) {\n    angle = 270 - degrees;\n  }\n\n  var labelRotation = labelPlacement === \"perpendicular\" ? 0 : 90;\n  return angle + sign * labelRotation;\n}\n\nfunction getDegrees(props, datum) {\n  var _Helpers$getPoint = Helpers.getPoint(datum),\n      x = _Helpers$getPoint.x;\n\n  return Helpers.radiansToDegrees(props.scale.x(x));\n}\n\nfunction getProps(props, index) {\n  var scale = props.scale,\n      data = props.data,\n      style = props.style,\n      horizontal = props.horizontal,\n      polar = props.polar,\n      width = props.width,\n      height = props.height;\n  var datum = data[index];\n  var degrees = getDegrees(props, datum);\n  var textAnchor = polar ? getPolarTextAnchor(props, degrees) : getTextAnchor(props, datum);\n  var verticalAnchor = polar ? getPolarVerticalAnchor(props, degrees) : getVerticalAnchor(props, datum);\n  var angle = getAngle(props, datum);\n  var text = getText(props, datum, index);\n  var labelPlacement = getLabelPlacement(props);\n\n  var _getPosition = getPosition(props, datum),\n      x = _getPosition.x,\n      y = _getPosition.y;\n\n  var _getOffset = getOffset(props, datum),\n      dx = _getOffset.dx,\n      dy = _getOffset.dy;\n\n  return {\n    angle: angle,\n    data: data,\n    datum: datum,\n    horizontal: horizontal,\n    index: index,\n    polar: polar,\n    scale: scale,\n    labelPlacement: labelPlacement,\n    text: text,\n    textAnchor: textAnchor,\n    verticalAnchor: verticalAnchor,\n    x: x,\n    y: y,\n    dx: dx,\n    dy: dy,\n    width: width,\n    height: height,\n    style: style.labels\n  };\n}\n\nexport default {\n  getText: getText,\n  getPolarTextAnchor: getPolarTextAnchor,\n  getPolarVerticalAnchor: getPolarVerticalAnchor,\n  getPolarAngle: getPolarAngle,\n  getDegrees: getDegrees,\n  getProps: getProps\n};","map":{"version":3,"sources":["/Users/abdurauf/Desktop/毕业设计/orginal/restaurant-management-system/plov/node_modules/victory-core/es/victory-util/label-helpers.js"],"names":["Helpers","getVerticalAnchor","props","datum","sign","_y","labelStyle","style","labels","verticalAnchor","horizontal","getTextAnchor","getAngle","angle","undefined","getPadding","defaultPadding","evaluateProp","padding","x","y","getOffset","polar","dx","dy","getPosition","_Helpers$scalePoint","scalePoint","polarPadding","getPolarPadding","degrees","getDegrees","degreesToRadians","Math","cos","sin","getLabelPlacement","labelComponent","labelPlacement","defaultLabelPlacement","getPolarOrientation","getText","index","label","Array","isArray","getPolarTextAnchor","getPolarVerticalAnchor","orientation","getPolarAngle","baseAngle","labelRotation","_Helpers$getPoint","getPoint","radiansToDegrees","scale","getProps","data","width","height","textAnchor","text","_getPosition","_getOffset"],"mappings":"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","sourcesContent":["/* eslint-disable func-style */\n\n/* eslint-disable no-use-before-define */\nimport Helpers from \"./helpers\"; // Private Functions\n\nfunction getVerticalAnchor(props, datum) {\n  datum = datum || {};\n  var sign = datum._y >= 0 ? 1 : -1;\n  var labelStyle = props.style && props.style.labels || {};\n\n  if (datum.verticalAnchor || labelStyle.verticalAnchor) {\n    return datum.verticalAnchor || labelStyle.verticalAnchor;\n  } else if (!props.horizontal) {\n    return sign >= 0 ? \"end\" : \"start\";\n  } else {\n    return \"middle\";\n  }\n}\n\nfunction getTextAnchor(props, datum) {\n  datum = datum || {};\n  var style = props.style,\n      horizontal = props.horizontal;\n  var sign = datum._y >= 0 ? 1 : -1;\n  var labelStyle = style && style.labels || {};\n\n  if (datum.verticalAnchor || labelStyle.verticalAnchor) {\n    return datum.verticalAnchor || labelStyle.verticalAnchor;\n  } else if (!horizontal) {\n    return \"middle\";\n  } else {\n    return sign >= 0 ? \"start\" : \"end\";\n  }\n}\n\nfunction getAngle(props, datum) {\n  datum = datum || {};\n  var labelStyle = props.style && props.style.labels || {};\n  return datum.angle === undefined ? labelStyle.angle : datum.angle;\n}\n\nfunction getPadding(props, datum) {\n  datum = datum || {};\n  var horizontal = props.horizontal,\n      style = props.style;\n  var labelStyle = style.labels || {};\n  var defaultPadding = Helpers.evaluateProp(labelStyle.padding, props) || 0;\n  var sign = datum._y < 0 ? -1 : 1;\n  return {\n    x: horizontal ? sign * defaultPadding : 0,\n    y: horizontal ? 0 : -1 * sign * defaultPadding\n  };\n}\n\nfunction getOffset(props, datum) {\n  if (props.polar) {\n    return {};\n  }\n\n  var padding = getPadding(props, datum);\n  return {\n    dx: padding.x,\n    dy: padding.y\n  };\n}\n\nfunction getPosition(props, datum) {\n  var polar = props.polar;\n\n  var _Helpers$scalePoint = Helpers.scalePoint(props, datum),\n      x = _Helpers$scalePoint.x,\n      y = _Helpers$scalePoint.y;\n\n  if (!polar) {\n    return {\n      x: x,\n      y: y\n    };\n  } else {\n    var polarPadding = getPolarPadding(props, datum);\n    return {\n      x: x + polarPadding.x,\n      y: y + polarPadding.y\n    };\n  }\n}\n\nfunction getPolarPadding(props, datum) {\n  var style = props.style;\n  var degrees = getDegrees(props, datum);\n  var labelStyle = style.labels || {};\n  var padding = Helpers.evaluateProp(labelStyle.padding, props) || 0;\n  var angle = Helpers.degreesToRadians(degrees);\n  return {\n    x: padding * Math.cos(angle),\n    y: -padding * Math.sin(angle)\n  };\n}\n\nfunction getLabelPlacement(props) {\n  var labelComponent = props.labelComponent,\n      labelPlacement = props.labelPlacement,\n      polar = props.polar;\n  var defaultLabelPlacement = polar ? \"perpendicular\" : \"vertical\";\n  return labelPlacement ? labelPlacement : labelComponent.props && labelComponent.props.labelPlacement || defaultLabelPlacement;\n}\n\nfunction getPolarOrientation(degrees) {\n  // eslint-disable-next-line no-magic-numbers\n  if (degrees < 45 || degrees > 315) {\n    return \"right\"; // eslint-disable-next-line no-magic-numbers\n  } else if (degrees >= 45 && degrees <= 135) {\n    return \"top\"; // eslint-disable-next-line no-magic-numbers\n  } else if (degrees > 135 && degrees < 225) {\n    return \"left\";\n  } else {\n    return \"bottom\";\n  }\n} // Exported Functions\n\n\nfunction getText(props, datum, index) {\n  datum = datum || {};\n\n  if (datum.label !== undefined) {\n    return datum.label;\n  }\n\n  return Array.isArray(props.labels) ? props.labels[index] : props.labels;\n}\n\nfunction getPolarTextAnchor(props, degrees) {\n  var labelPlacement = getLabelPlacement(props);\n\n  if (labelPlacement === \"perpendicular\" || labelPlacement === \"vertical\" && (degrees === 90 || degrees === 270)) {\n    return \"middle\";\n  }\n\n  return degrees <= 90 || degrees > 270 ? \"start\" : \"end\";\n}\n\nfunction getPolarVerticalAnchor(props, degrees) {\n  var labelPlacement = getLabelPlacement(props);\n  var orientation = getPolarOrientation(degrees);\n\n  if (labelPlacement === \"parallel\" || orientation === \"left\" || orientation === \"right\") {\n    return \"middle\";\n  }\n\n  return orientation === \"top\" ? \"end\" : \"start\";\n}\n\nfunction getPolarAngle(props, baseAngle) {\n  var labelPlacement = props.labelPlacement,\n      datum = props.datum;\n\n  if (!labelPlacement || labelPlacement === \"vertical\") {\n    return 0;\n  }\n\n  var degrees = baseAngle !== undefined ? baseAngle : getDegrees(props, datum);\n  var sign = degrees > 90 && degrees < 180 || degrees > 270 ? 1 : -1;\n  var angle;\n\n  if (degrees === 0 || degrees === 180) {\n    angle = 90;\n  } else if (degrees > 0 && degrees < 180) {\n    angle = 90 - degrees;\n  } else if (degrees > 180 && degrees < 360) {\n    angle = 270 - degrees;\n  }\n\n  var labelRotation = labelPlacement === \"perpendicular\" ? 0 : 90;\n  return angle + sign * labelRotation;\n}\n\nfunction getDegrees(props, datum) {\n  var _Helpers$getPoint = Helpers.getPoint(datum),\n      x = _Helpers$getPoint.x;\n\n  return Helpers.radiansToDegrees(props.scale.x(x));\n}\n\nfunction getProps(props, index) {\n  var scale = props.scale,\n      data = props.data,\n      style = props.style,\n      horizontal = props.horizontal,\n      polar = props.polar,\n      width = props.width,\n      height = props.height;\n  var datum = data[index];\n  var degrees = getDegrees(props, datum);\n  var textAnchor = polar ? getPolarTextAnchor(props, degrees) : getTextAnchor(props, datum);\n  var verticalAnchor = polar ? getPolarVerticalAnchor(props, degrees) : getVerticalAnchor(props, datum);\n  var angle = getAngle(props, datum);\n  var text = getText(props, datum, index);\n  var labelPlacement = getLabelPlacement(props);\n\n  var _getPosition = getPosition(props, datum),\n      x = _getPosition.x,\n      y = _getPosition.y;\n\n  var _getOffset = getOffset(props, datum),\n      dx = _getOffset.dx,\n      dy = _getOffset.dy;\n\n  return {\n    angle: angle,\n    data: data,\n    datum: datum,\n    horizontal: horizontal,\n    index: index,\n    polar: polar,\n    scale: scale,\n    labelPlacement: labelPlacement,\n    text: text,\n    textAnchor: textAnchor,\n    verticalAnchor: verticalAnchor,\n    x: x,\n    y: y,\n    dx: dx,\n    dy: dy,\n    width: width,\n    height: height,\n    style: style.labels\n  };\n}\n\nexport default {\n  getText: getText,\n  getPolarTextAnchor: getPolarTextAnchor,\n  getPolarVerticalAnchor: getPolarVerticalAnchor,\n  getPolarAngle: getPolarAngle,\n  getDegrees: getDegrees,\n  getProps: getProps\n};"]},"metadata":{},"sourceType":"module"}