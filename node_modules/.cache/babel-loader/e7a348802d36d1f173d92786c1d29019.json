{"ast":null,"code":"var _jsxFileName = \"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/src/components/Employee/components/Reservation/components/reservationContent.jsx\";\n// React\nimport React, { useState, useEffect } from \"react\"; // third part\n\nimport { Layout, Divider } from \"antd\"; // custom\n\nimport { HeaderTitle, CustomDrawerButton, openNotification } from \"../../../../custom/\";\nimport * as All from \"./\"; // Services\n\nimport { getReservation, addReservation, deleteReservationItem, EditReservation } from \"../../../../../services/reservationServices\";\nconst {\n  Content\n} = Layout;\n\nconst ReservationContent = () => {\n  const [drawerVisible, setDrawerVisible] = useState();\n  const [getReservationData, setReservationData] = useState([]);\n  const [modalVisible, setModalVisible] = useState();\n  const [editableData, setEditableData] = useState({});\n\n  const fetchReservationData = async () => {\n    try {\n      await getReservation().then(res => res.data).then(data => setReservationData(data));\n    } catch (error) {\n      openNotification(\"error\", \"Can't get Reservation info\", \"Check connection\");\n    }\n  };\n\n  useEffect(() => {\n    fetchReservationData();\n  }, []);\n\n  const showDrawer = () => {\n    setDrawerVisible(true);\n  };\n\n  const onClose = () => {\n    setDrawerVisible(false);\n    setModalVisible(false);\n    window.location.reload();\n  };\n\n  const onHandleAdd = async items => {\n    try {\n      await addReservation(items);\n    } catch (error) {\n      openNotification(\"error\", \"Can't add user\", \"Check Connection\");\n    }\n  };\n\n  const deleteReservation = async item => {\n    try {\n      await deleteReservationItem(item);\n    } catch (err) {\n      openNotification(\"error\", \"Can't delte \", \"Check Connection\");\n    }\n  };\n\n  const handleEdit = items => {\n    const newData = { ...items\n    };\n    setEditableData(newData);\n    setModalVisible(true);\n  };\n\n  const handleUpdate = async items => {\n    try {\n      EditReservation(items);\n    } catch (error) {\n      openNotification(\"error\", \"Can't change Reservation\", \"Check connection\");\n    }\n  };\n\n  return React.createElement(Content, {\n    style: {\n      margin: \"2em 16px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      background: \"#fff\",\n      padding: 24,\n      minHeight: 280\n    },\n    className: \"border border-dark rounded\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(HeaderTitle, {\n    title: \"Reservation Menu\",\n    legth: getReservationData.length,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), React.createElement(CustomDrawerButton, {\n    title: \"Reserv place\",\n    showDrawer: showDrawer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(All.ReservationDrawer, {\n    visible: drawerVisible,\n    onHandleAdd: onHandleAdd,\n    onClose: onClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(All.ReservationList, {\n    data: getReservationData,\n    deleteReservation: deleteReservation,\n    handleEdit: handleEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(All.EditModal, {\n    data: editableData,\n    visible: modalVisible,\n    onClose: onClose,\n    handleUpdate: handleUpdate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  })));\n};\n\nexport default ReservationContent;","map":{"version":3,"sources":["/Users/abdurauf/Desktop/毕业设计/orginal/restaurant-management-system/plov/src/components/Employee/components/Reservation/components/reservationContent.jsx"],"names":["React","useState","useEffect","Layout","Divider","HeaderTitle","CustomDrawerButton","openNotification","All","getReservation","addReservation","deleteReservationItem","EditReservation","Content","ReservationContent","drawerVisible","setDrawerVisible","getReservationData","setReservationData","modalVisible","setModalVisible","editableData","setEditableData","fetchReservationData","then","res","data","error","showDrawer","onClose","window","location","reload","onHandleAdd","items","deleteReservation","item","err","handleEdit","newData","handleUpdate","margin","background","padding","minHeight","length"],"mappings":"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","sourcesContent":["// React\nimport React, { useState, useEffect } from \"react\";\n\n// third part\nimport { Layout, Divider } from \"antd\";\n\n// custom\nimport {\n  HeaderTitle,\n  CustomDrawerButton,\n  openNotification\n} from \"../../../../custom/\";\nimport * as All from \"./\";\n\n// Services\n\nimport {\n  getReservation,\n  addReservation,\n  deleteReservationItem,\n  EditReservation\n} from \"../../../../../services/reservationServices\";\n\nconst { Content } = Layout;\n\nconst ReservationContent = () => {\n  const [drawerVisible, setDrawerVisible] = useState();\n  const [getReservationData, setReservationData] = useState([]);\n  const [modalVisible, setModalVisible] = useState();\n  const [editableData, setEditableData] = useState({});\n\n  const fetchReservationData = async () => {\n    try {\n      await getReservation()\n        .then(res => res.data)\n        .then(data => setReservationData(data));\n    } catch (error) {\n      openNotification(\n        \"error\",\n        \"Can't get Reservation info\",\n        \"Check connection\"\n      );\n    }\n  };\n\n  useEffect(() => {\n    fetchReservationData();\n  }, []);\n\n  const showDrawer = () => {\n    setDrawerVisible(true);\n  };\n\n  const onClose = () => {\n    setDrawerVisible(false);\n    setModalVisible(false);\n    window.location.reload();\n  };\n\n  const onHandleAdd = async items => {\n    try {\n      await addReservation(items);\n    } catch (error) {\n      openNotification(\"error\", \"Can't add user\", \"Check Connection\");\n    }\n  };\n\n  const deleteReservation = async item => {\n    try {\n      await deleteReservationItem(item);\n    } catch (err) {\n      openNotification(\"error\", \"Can't delte \", \"Check Connection\");\n    }\n  };\n\n  const handleEdit = items => {\n    const newData = { ...items };\n    setEditableData(newData);\n    setModalVisible(true);\n  };\n\n  const handleUpdate = async items => {\n    try {\n      EditReservation(items);\n    } catch (error) {\n      openNotification(\"error\", \"Can't change Reservation\", \"Check connection\");\n    }\n  };\n  return (\n    <Content style={{ margin: \"2em 16px\" }}>\n      <div\n        style={{ background: \"#fff\", padding: 24, minHeight: 280 }}\n        className=\"border border-dark rounded\"\n      >\n        <HeaderTitle\n          title={\"Reservation Menu\"}\n          legth={getReservationData.length}\n        />\n        <CustomDrawerButton title={\"Reserv place\"} showDrawer={showDrawer} />\n        <Divider />\n        <All.ReservationDrawer\n          visible={drawerVisible}\n          onHandleAdd={onHandleAdd}\n          onClose={onClose}\n        />\n        <All.ReservationList\n          data={getReservationData}\n          deleteReservation={deleteReservation}\n          handleEdit={handleEdit}\n        />\n        <All.EditModal\n          data={editableData}\n          visible={modalVisible}\n          onClose={onClose}\n          handleUpdate={handleUpdate}\n        />\n      </div>\n    </Content>\n  );\n};\n\nexport default ReservationContent;\n"]},"metadata":{},"sourceType":"module"}