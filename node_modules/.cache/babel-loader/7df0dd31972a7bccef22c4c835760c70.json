{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// React\nimport React,{useState,useEffect}from\"react\";// third part\nimport{Drawer,Form,Select,Input,TimePicker,Button,TreeSelect}from\"antd\";// Services\nimport{getTable}from\"../../../../../services/tableServices\";import{getDishes}from\"../../../../../services/dishServices\";// custom\nimport{openNotification}from\"../../../../custom\";var layout={labelCol:{span:5},wrapperCol:{span:24}};var OrderDrawer=function OrderDrawer(_ref){var visible=_ref.visible,onClose=_ref.onClose,handleAdd=_ref.handleAdd;// state\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),tableNumber=_useState2[0],setTableNumber=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),orders=_useState4[0],setOrders=_useState4[1];//   fetchTableNumber\nvar fetchTableNumber=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getTable().then(function(res){return res.data;}).then(function(data){return setTableNumber(data);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);openNotification(\"error\",\"Cant get tables\",\"Check connection\");case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function fetchTableNumber(){return _ref2.apply(this,arguments);};}();var fetchOrders=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return getDishes().then(function(res){return res.data;}).then(function(data){return setOrders(data);});case 3:_context2.next=7;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);case 7:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}));return function fetchOrders(){return _ref3.apply(this,arguments);};}();useEffect(function(){fetchTableNumber();fetchOrders();},[]);return React.createElement(Drawer,{title:\"Take Order\",visible:visible,onClose:onClose,closable:false,width:480},React.createElement(Form,Object.assign({},layout,{hideRequiredMark:true,onFinish:handleAdd}),React.createElement(Form.Item,{label:\"Table Number\",name:\"table_number\",rules:[{required:true,message:\"Enter Table Number\"}]},React.createElement(Select,{placeholder:\"select table number\"},tableNumber.map(function(table){return React.createElement(Select.Option,{key:table.id,value:table.table_number},table.table_number);}))),React.createElement(Form.Item,{label:\"Customer\",name:\"customer_name\",rules:[{required:true,message:\"Enter Customer Name\"}]},React.createElement(Input,{placeholder:\"Customer Name\",allowClear:true})),React.createElement(Form.Item,{label:\"Order\",name:\"dish\"},React.createElement(TreeSelect,{style:{width:\"100%\"},dropdownStyle:{maxHeight:400,overflow:\"auto\"},placeholder:\"Please select\",allowClear:true,multiple:true,showSearch:true,autoClearSearchValue:true,bordered:true},orders.map(function(or){return React.createElement(TreeSelect.TreeNode,{key:or.id,value:or.type,title:or.type,selectable:false},React.createElement(TreeSelect.TreeNode,{key:or.id,value:or.name,title:or.name}));}))),React.createElement(Form.Item,{label:\"Price\",name:\"price\"},React.createElement(TreeSelect,{showSearch:true,style:{width:\"100%\"},placeholder:\"Please select Price\",allowClear:true,multiple:true,bordered:true},orders.map(function(or){return React.createElement(TreeSelect.TreeNode,{key:or.id,selectable:false,title:or.name,value:or.name},React.createElement(TreeSelect.TreeNode,{key:or.id,title:or.price,value:or.price}));}))),React.createElement(Form.Item,{label:\"Time\",name:\"time\",placeholder:\"select time\"},React.createElement(TimePicker,{className:\"w-100\"})),React.createElement(Button,{type:\"primary\",htmlType:\"submit\"},\"Order\"),React.createElement(Button,{type:\"danger\",className:\"ml-3\",onClick:onClose},\"Cancel\")));};export default OrderDrawer;","map":{"version":3,"sources":["/Users/abdurauf/Desktop/毕业设计/orginal/restaurant-management-system/plov/src/components/Employee/components/Order/components/orderDrawer.jsx"],"names":["React","useState","useEffect","Drawer","Form","Select","Input","TimePicker","Button","TreeSelect","getTable","getDishes","openNotification","layout","labelCol","span","wrapperCol","OrderDrawer","visible","onClose","handleAdd","tableNumber","setTableNumber","orders","setOrders","fetchTableNumber","then","res","data","fetchOrders","required","message","map","table","id","table_number","width","maxHeight","overflow","or","type","name","price"],"mappings":"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","sourcesContent":["// React\nimport React, { useState, useEffect } from \"react\";\n\n// third part\nimport {\n  Drawer,\n  Form,\n  Select,\n  Input,\n  TimePicker,\n  Button,\n  TreeSelect\n} from \"antd\";\n\n// Services\nimport { getTable } from \"../../../../../services/tableServices\";\nimport { getDishes } from \"../../../../../services/dishServices\";\n\n// custom\nimport { openNotification } from \"../../../../custom\";\nconst layout = {\n  labelCol: { span: 5 },\n  wrapperCol: { span: 24 }\n};\n\nconst OrderDrawer = ({ visible, onClose, handleAdd }) => {\n  // state\n  const [tableNumber, setTableNumber] = useState([]);\n  const [orders, setOrders] = useState([]);\n\n  //   fetchTableNumber\n  const fetchTableNumber = async () => {\n    try {\n      await getTable()\n        .then(res => res.data)\n        .then(data => setTableNumber(data));\n    } catch (error) {\n      openNotification(\"error\", \"Cant get tables\", \"Check connection\");\n    }\n  };\n  const fetchOrders = async () => {\n    try {\n      await getDishes()\n        .then(res => res.data)\n        .then(data => setOrders(data));\n    } catch (error) {}\n  };\n\n  useEffect(() => {\n    fetchTableNumber();\n    fetchOrders();\n  }, []);\n\n  return (\n    <Drawer\n      title=\"Take Order\"\n      visible={visible}\n      onClose={onClose}\n      closable={false}\n      width={480}\n    >\n      <Form {...layout} hideRequiredMark onFinish={handleAdd}>\n        <Form.Item\n          label=\"Table Number\"\n          name=\"table_number\"\n          rules={[{ required: true, message: \"Enter Table Number\" }]}\n        >\n          <Select placeholder=\"select table number\">\n            {tableNumber.map(table => (\n              <Select.Option key={table.id} value={table.table_number}>\n                {table.table_number}\n              </Select.Option>\n            ))}\n          </Select>\n        </Form.Item>\n\n        <Form.Item\n          label=\"Customer\"\n          name=\"customer_name\"\n          rules={[{ required: true, message: \"Enter Customer Name\" }]}\n        >\n          <Input placeholder=\"Customer Name\" allowClear />\n        </Form.Item>\n\n        <Form.Item label=\"Order\" name=\"dish\">\n          <TreeSelect\n            style={{ width: \"100%\" }}\n            dropdownStyle={{ maxHeight: 400, overflow: \"auto\" }}\n            placeholder=\"Please select\"\n            allowClear\n            multiple\n            showSearch\n            autoClearSearchValue\n            bordered\n          >\n            {orders.map(or => (\n              <TreeSelect.TreeNode\n                key={or.id}\n                value={or.type}\n                title={or.type}\n                selectable={false}\n              >\n                <TreeSelect.TreeNode\n                  key={or.id}\n                  value={or.name}\n                  title={or.name}\n                />\n              </TreeSelect.TreeNode>\n            ))}\n          </TreeSelect>\n        </Form.Item>\n\n        <Form.Item label=\"Price\" name=\"price\">\n          <TreeSelect\n            showSearch\n            style={{ width: \"100%\" }}\n            placeholder=\"Please select Price\"\n            allowClear\n            multiple\n            bordered\n          >\n            {orders.map(or => (\n              <TreeSelect.TreeNode\n                key={or.id}\n                selectable={false}\n                title={or.name}\n                value={or.name}\n              >\n                <TreeSelect.TreeNode\n                  key={or.id}\n                  title={or.price}\n                  value={or.price}\n                />\n              </TreeSelect.TreeNode>\n            ))}\n          </TreeSelect>\n        </Form.Item>\n\n        <Form.Item label=\"Time\" name=\"time\" placeholder=\"select time\">\n          <TimePicker className=\"w-100\" />\n        </Form.Item>\n\n        <Button type=\"primary\" htmlType=\"submit\">\n          Order\n        </Button>\n\n        <Button type=\"danger\" className=\"ml-3\" onClick={onClose}>\n          Cancel\n        </Button>\n      </Form>\n    </Drawer>\n  );\n};\n\nexport default OrderDrawer;\n"]},"metadata":{},"sourceType":"module"}