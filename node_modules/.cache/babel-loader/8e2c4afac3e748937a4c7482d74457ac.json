{"ast":null,"code":"import _objectSpread from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// React\nimport React,{useState,useEffect,Fragment}from\"react\";// Third part\nimport{Layout,Divider}from\"antd\";import{Order,getOrder,DelteOrder,updateOrder}from\"../../../../../services/orderServices\";// Custom\nimport{HeaderTitle,CustomDrawerButton,openNotification}from\"../../../../custom/\";import*as All from\"./\";var Content=Layout.Content;var OrderContent=function OrderContent(){// state\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),DrawerVisible=_useState2[0],setDrawerVisible=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),orderData=_useState4[0],setOrderData=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),editableData=_useState6[0],setEditableData=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),modalVisible=_useState8[0],setModalVisible=_useState8[1];var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getOrder().then(function(res){return res.data;}).then(function(data){return setOrderData(data);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);openNotification(\"error\",\"Can't get data\",\"Check connection\");case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function getData(){return _ref.apply(this,arguments);};}();useEffect(function(){getData();},[]);// showDrawer\nvar showDrawer=function showDrawer(){setDrawerVisible(true);};var onClose=function onClose(){setDrawerVisible(false);window.location.reload();};var handleAdd=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(items){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Order(items);case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);openNotification(\"error\",\"Can't order\",\"Check Connection\");case 8:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}));return function handleAdd(_x){return _ref2.apply(this,arguments);};}();var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(item){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return DelteOrder(item);case 3:_context3.next=8;break;case 5:_context3.prev=5;_context3.t0=_context3[\"catch\"](0);openNotification(\"error\",\"Can't delete Orders\",\"Check Connection\");case 8:case\"end\":return _context3.stop();}}},_callee3,null,[[0,5]]);}));return function handleDelete(_x2){return _ref3.apply(this,arguments);};}();var handleEdit=function handleEdit(data){var newdata=_objectSpread({},data);setModalVisible(true);setEditableData(newdata);};var handleUpdate=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(items){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return updateOrder(items);case 3:_context4.next=8;break;case 5:_context4.prev=5;_context4.t0=_context4[\"catch\"](0);openNotification(\"error\",\"Can't update\",\"Check Your  Connection\");case 8:case\"end\":return _context4.stop();}}},_callee4,null,[[0,5]]);}));return function handleUpdate(_x3){return _ref4.apply(this,arguments);};}();var onCloseModa=function onCloseModa(){setModalVisible(false);window.location.reload();};return React.createElement(Fragment,null,React.createElement(Content,{style:{margin:\"2em 16px\"}},React.createElement(\"div\",{style:{background:\"#fff\",padding:24,minHeight:280},className:\"border border-dark rounded\"},React.createElement(HeaderTitle,{title:\"Order Menu\",legth:orderData.length}),React.createElement(CustomDrawerButton,{title:\"Take order\",showDrawer:showDrawer}),React.createElement(Divider,null),React.createElement(All.OrderDrawer,{visible:DrawerVisible,onClose:onClose,handleAdd:handleAdd}),React.createElement(All.OrderedList,{data:orderData,handleDelete:handleDelete,handleEdit:handleEdit}),React.createElement(All.EditModal,{visible:modalVisible,editableData:editableData,onClose:onCloseModa,handleUpdate:handleUpdate}))));};export default OrderContent;","map":{"version":3,"sources":["/Users/abdurauf/Desktop/毕业设计/orginal/restaurant-management-system/plov/src/components/Employee/components/Order/components/orderContent.jsx"],"names":["React","useState","useEffect","Fragment","Layout","Divider","Order","getOrder","DelteOrder","updateOrder","HeaderTitle","CustomDrawerButton","openNotification","All","Content","OrderContent","DrawerVisible","setDrawerVisible","orderData","setOrderData","editableData","setEditableData","modalVisible","setModalVisible","getData","then","res","data","showDrawer","onClose","window","location","reload","handleAdd","items","handleDelete","item","handleEdit","newdata","handleUpdate","onCloseModa","margin","background","padding","minHeight","length"],"mappings":"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","sourcesContent":["// React\nimport React, { useState, useEffect, Fragment } from \"react\";\n\n// Third part\nimport { Layout, Divider } from \"antd\";\n\nimport {\n  Order,\n  getOrder,\n  DelteOrder,\n  updateOrder\n} from \"../../../../../services/orderServices\";\n\n// Custom\nimport {\n  HeaderTitle,\n  CustomDrawerButton,\n  openNotification\n} from \"../../../../custom/\";\nimport * as All from \"./\";\n\nconst { Content } = Layout;\nconst OrderContent = () => {\n  // state\n  const [DrawerVisible, setDrawerVisible] = useState();\n  const [orderData, setOrderData] = useState([]);\n  const [editableData, setEditableData] = useState({});\n  const [modalVisible, setModalVisible] = useState();\n\n  const getData = async () => {\n    try {\n      await getOrder()\n        .then(res => res.data)\n        .then(data => setOrderData(data));\n    } catch (err) {\n      openNotification(\"error\", \"Can't get data\", \"Check connection\");\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  // showDrawer\n  const showDrawer = () => {\n    setDrawerVisible(true);\n  };\n  const onClose = () => {\n    setDrawerVisible(false);\n    window.location.reload();\n  };\n  const handleAdd = async items => {\n    try {\n      await Order(items);\n    } catch (error) {\n      openNotification(\"error\", \"Can't order\", \"Check Connection\");\n    }\n  };\n\n  const handleDelete = async item => {\n    try {\n      await DelteOrder(item);\n    } catch (error) {\n      openNotification(\"error\", \"Can't delete Orders\", \"Check Connection\");\n    }\n  };\n  const handleEdit = data => {\n    const newdata = { ...data };\n    setModalVisible(true);\n    setEditableData(newdata);\n  };\n\n  const handleUpdate = async items => {\n    try {\n      await updateOrder(items);\n    } catch (error) {\n      openNotification(\"error\", \"Can't update\", \"Check Your  Connection\");\n    }\n  };\n  const onCloseModa = () => {\n    setModalVisible(false);\n    window.location.reload();\n  };\n  return (\n    <Fragment>\n      <Content style={{ margin: \"2em 16px\" }}>\n        <div\n          style={{ background: \"#fff\", padding: 24, minHeight: 280 }}\n          className=\"border border-dark rounded\"\n        >\n          <HeaderTitle title={\"Order Menu\"} legth={orderData.length} />\n          <CustomDrawerButton title={\"Take order\"} showDrawer={showDrawer} />\n          <Divider />\n          <All.OrderDrawer\n            visible={DrawerVisible}\n            onClose={onClose}\n            handleAdd={handleAdd}\n          />\n          <All.OrderedList\n            data={orderData}\n            handleDelete={handleDelete}\n            handleEdit={handleEdit}\n          />\n          <All.EditModal\n            visible={modalVisible}\n            editableData={editableData}\n            onClose={onCloseModa}\n            handleUpdate={handleUpdate}\n          />\n        </div>\n      </Content>\n    </Fragment>\n  );\n};\n\nexport default OrderContent;\n"]},"metadata":{},"sourceType":"module"}