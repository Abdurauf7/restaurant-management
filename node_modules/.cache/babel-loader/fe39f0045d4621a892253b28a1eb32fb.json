{"ast":null,"code":"import _objectSpread from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _assertThisInitialized from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/inherits\";import _objectWithoutProperties from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{Component,Fragment}from\"react\";import{Layout,Table,Button,InputNumber,Input,Form,Row,Col,Select}from\"antd\";import{Resizable}from\"react-resizable\";import\"../../../assets/css/AdminForm.css\";var Option=Select.Option;// for resizing\nvar ResizeableTitle=function ResizeableTitle(props){var onResize=props.onResize,width=props.width,restProps=_objectWithoutProperties(props,[\"onResize\",\"width\"]);if(!width){return React.createElement(\"th\",restProps);}return React.createElement(Resizable,{width:width,height:0,onResize:onResize,draggableOpts:{enableUserSelectHack:false}},React.createElement(\"th\",restProps));};// for editable\nvar EditableContext=React.createContext();var EditableCell=/*#__PURE__*/function(_React$Component){_inherits(EditableCell,_React$Component);function EditableCell(){var _getPrototypeOf2;var _this;_classCallCheck(this,EditableCell);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(EditableCell)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.getInput=function(){if(_this.props.inputType===\"number\"){return React.createElement(InputNumber,null);}return React.createElement(Input,null);};_this.renderCell=function(_ref){var getFieldDecorator=_ref.getFieldDecorator;var _this$props=_this.props,editing=_this$props.editing,dataIndex=_this$props.dataIndex,title=_this$props.title,inputType=_this$props.inputType,record=_this$props.record,index=_this$props.index,children=_this$props.children,restProps=_objectWithoutProperties(_this$props,[\"editing\",\"dataIndex\",\"title\",\"inputType\",\"record\",\"index\",\"children\"]);return React.createElement(\"td\",restProps,editing?React.createElement(Form.Item,{style:{margin:0}},getFieldDecorator(dataIndex,{rules:[{required:true,message:\"Please Input \".concat(title,\"!\")}],initialValue:record[dataIndex]})(_this.getInput())):children);};return _this;}_createClass(EditableCell,[{key:\"render\",value:function render(){return React.createElement(EditableContext.Consumer,null,this.renderCell);}}]);return EditableCell;}(React.Component);var Content=Layout.Content;var TableRes=/*#__PURE__*/function(_Component){_inherits(TableRes,_Component);function TableRes(props){var _this2;_classCallCheck(this,TableRes);_this2=_possibleConstructorReturn(this,_getPrototypeOf(TableRes).call(this,props));_this2.isEditing=function(record){return record.key===_this2.state.editingKey;};_this2.cancel=function(){_this2.setState({editingKey:\"\"});};_this2.handleDelete=function(key){var dataSource=_toConsumableArray(_this2.state.dataSource);_this2.setState({dataSource:dataSource.filter(function(item){return item.key!==key;})});};_this2.components={header:{cell:ResizeableTitle},body:{cell:EditableCell}};_this2.handleAdd=function(){var _this2$state=_this2.state,key=_this2$state.key,dataSource=_this2$state.dataSource,number=_this2$state.number,type=_this2$state.type,seats=_this2$state.seats;var newData={key:key,number:number,type:type,seats:seats};if(number!==null&&type!==\"\"&&seats!==null){_this2.setState({dataSource:[].concat(_toConsumableArray(dataSource),[newData]),key:key+1});}};_this2.handleResize=function(index){return function(e,_ref2){var size=_ref2.size;_this2.setState(function(_ref3){var columns=_ref3.columns;var nextColumns=_toConsumableArray(columns);nextColumns[index]=_objectSpread({},nextColumns[index],{width:size.width});return{columns:nextColumns};});};};_this2.state={columns:[{title:\"Number\",dataIndex:\"number\",editable:true},{title:\"Type\",dataIndex:\"type\",editable:true},{title:\"Seats\",dataIndex:\"seats\",editable:true},{title:\"Action\",dataIndex:\"operation\",render:function render(text,record){var editingKey=_this2.state.editingKey;var editable=_this2.isEditing(record);return editable?React.createElement(\"span\",null,React.createElement(EditableContext.Consumer,null,function(form){return React.createElement(Row,{gutter:22},React.createElement(Col,{span:5},React.createElement(Button,{size:\"small\",onClick:function onClick(){return _this2.save(form,record.key);},style:{width:\"60px\"}},\"Save\")),React.createElement(Col,{span:5},React.createElement(Button,{size:\"small\",style:{width:\"70px\"},onClick:function onClick(){return _this2.cancel(record.key);}},\"Cancel\")));})):React.createElement(Fragment,null,React.createElement(Button,{type:\"danger\",size:\"small\",style:{width:\"60px\",margin:\" 0 1em\"},onClick:function onClick(){return _this2.handleDelete(record.key);}},\"Delete\"),React.createElement(Button,{type:\"primary\",size:\"small\",style:{width:\"60px\"},disabled:editingKey!==\"\",onClick:function onClick(){return _this2.edit(record.key);}},\"Edit\"));}}],dataSource:[],key:0,editingKey:\"\",number:\"\",type:\"\",seats:\"\"};_this2.numberhandleChange=_this2.numberhandleChange.bind(_assertThisInitialized(_this2));_this2.typehandleChange=_this2.typehandleChange.bind(_assertThisInitialized(_this2));_this2.seatsHandleChange=_this2.seatsHandleChange.bind(_assertThisInitialized(_this2));return _this2;}_createClass(TableRes,[{key:\"numberhandleChange\",value:function numberhandleChange(number){this.setState({number:number});}},{key:\"typehandleChange\",value:function typehandleChange(type){this.setState({type:type});}},{key:\"seatsHandleChange\",value:function seatsHandleChange(seats){this.setState({seats:seats});}},{key:\"edit\",value:function edit(key){this.setState({editingKey:key});}},{key:\"save\",value:function save(form,key){var _this3=this;form.validateFields(function(error,row){if(error){return;}var newData=_toConsumableArray(_this3.state.dataSource);var index=newData.findIndex(function(item){return key===item.key;});if(index>-1){var item=newData[index];newData.splice(index,1,_objectSpread({},item,{},row));_this3.setState({dataSource:newData,editingKey:\"\"});}else{newData.push(row);_this3.setState({dataSource:newData,editingKey:\"\"});}});}},{key:\"render\",value:function render(){var _this4=this;var columns=this.state.columns.map(function(col,index){if(!col.editable){return col;}return _objectSpread({},col,{onHeaderCell:function onHeaderCell(column){return{width:column.width,onResize:_this4.handleResize(index)};},onCell:function onCell(record){return{record:record,inputType:col.dataIndex===\"age\"?\"number\":\"text\",dataIndex:col.dataIndex,title:col.title,editing:_this4.isEditing(record)};}});});var dataSource=this.state.dataSource;return React.createElement(Fragment,null,React.createElement(Content,{style:{margin:\"2em 16px\"}},React.createElement(\"div\",{style:{background:\"#fff\",padding:24,minHeight:280}},React.createElement(Row,{gutter:25},React.createElement(Col,{span:5},React.createElement(InputNumber,{placeholder:\"Table Number\",value:this.state.number,onChange:this.numberhandleChange,style:{width:\"250px\"}})),React.createElement(Col,{span:5},React.createElement(Select,{onChange:this.typehandleChange,defaultValue:\"select Type\",style:{width:\"250px\"}},React.createElement(Option,{value:\"round\"},\"Round\"),React.createElement(Option,{value:\"square\"},\"Square\"))),React.createElement(Col,{span:5},React.createElement(InputNumber,{placeholder:\"seats\",value:this.state.seats,onChange:this.seatsHandleChange,style:{width:\"250px\"}})),React.createElement(Col,{span:6},React.createElement(Button,{onClick:this.handleAdd,type:\"primary\",style:{marginBottom:16,width:\"100px\"}},\"Add\"))),React.createElement(EditableContext.Provider,{value:this.props.form},React.createElement(Table,{components:this.components,columns:columns,dataSource:dataSource,bordered:true,rowClassName:\"editable-row\",title:function title(){return\"Dish Menu\";},footer:function footer(){return\"Footer\";},pagination:false,scroll:{y:500}})))));}}]);return TableRes;}(Component);var WrappedHorizontalLoginForm=Form.create()(TableRes);export default WrappedHorizontalLoginForm;","map":{"version":3,"sources":["/Users/abdurauf/Desktop/毕业设计/orginal/restaurant-management-system/plov/src/components/Admin/components/TableRes.js"],"names":["React","Component","Fragment","Layout","Table","Button","InputNumber","Input","Form","Row","Col","Select","Resizable","Option","ResizeableTitle","props","onResize","width","restProps","enableUserSelectHack","EditableContext","createContext","EditableCell","getInput","inputType","renderCell","getFieldDecorator","editing","dataIndex","title","record","index","children","margin","rules","required","message","initialValue","Content","TableRes","isEditing","key","state","editingKey","cancel","setState","handleDelete","dataSource","filter","item","components","header","cell","body","handleAdd","number","type","seats","newData","handleResize","e","size","columns","nextColumns","editable","render","text","form","save","edit","numberhandleChange","bind","typehandleChange","seatsHandleChange","validateFields","error","row","findIndex","splice","push","map","col","onHeaderCell","column","onCell","background","padding","minHeight","marginBottom","y","WrappedHorizontalLoginForm","create"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport {\n  Layout,\n  Table,\n  Button,\n  InputNumber,\n  Input,\n  Form,\n  Row,\n  Col,\n  Select\n} from \"antd\";\nimport { Resizable } from \"react-resizable\";\n\nimport \"../../../assets/css/AdminForm.css\";\n\nconst { Option } = Select;\n\n// for resizing\nconst ResizeableTitle = props => {\n  const { onResize, width, ...restProps } = props;\n\n  if (!width) {\n    return <th {...restProps} />;\n  }\n\n  return (\n    <Resizable\n      width={width}\n      height={0}\n      onResize={onResize}\n      draggableOpts={{ enableUserSelectHack: false }}\n    >\n      <th {...restProps} />\n    </Resizable>\n  );\n};\n\n// for editable\nconst EditableContext = React.createContext();\n\nclass EditableCell extends React.Component {\n  getInput = () => {\n    if (this.props.inputType === \"number\") {\n      return <InputNumber />;\n    }\n    return <Input />;\n  };\n\n  renderCell = ({ getFieldDecorator }) => {\n    const {\n      editing,\n      dataIndex,\n      title,\n      inputType,\n      record,\n      index,\n      children,\n      ...restProps\n    } = this.props;\n    return (\n      <td {...restProps}>\n        {editing ? (\n          <Form.Item style={{ margin: 0 }}>\n            {getFieldDecorator(dataIndex, {\n              rules: [\n                {\n                  required: true,\n                  message: `Please Input ${title}!`\n                }\n              ],\n              initialValue: record[dataIndex]\n            })(this.getInput())}\n          </Form.Item>\n        ) : (\n          children\n        )}\n      </td>\n    );\n  };\n\n  render() {\n    return (\n      <EditableContext.Consumer>{this.renderCell}</EditableContext.Consumer>\n    );\n  }\n}\n\nconst { Content } = Layout;\nclass TableRes extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      columns: [\n        {\n          title: \"Number\",\n          dataIndex: \"number\",\n          editable: true\n        },\n        {\n          title: \"Type\",\n          dataIndex: \"type\",\n          editable: true\n        },\n        {\n          title: \"Seats\",\n          dataIndex: \"seats\",\n          editable: true\n        },\n        {\n          title: \"Action\",\n          dataIndex: \"operation\",\n          render: (text, record) => {\n            const { editingKey } = this.state;\n            const editable = this.isEditing(record);\n            return editable ? (\n              <span>\n                <EditableContext.Consumer>\n                  {form => (\n                    <Row gutter={22}>\n                      <Col span={5}>\n                        <Button\n                          size=\"small\"\n                          onClick={() => this.save(form, record.key)}\n                          style={{ width: \"60px\" }}\n                        >\n                          Save\n                        </Button>\n                      </Col>\n                      <Col span={5}>\n                        <Button\n                          size=\"small\"\n                          style={{ width: \"70px\" }}\n                          onClick={() => this.cancel(record.key)}\n                        >\n                          Cancel\n                        </Button>\n                      </Col>\n                    </Row>\n                  )}\n                </EditableContext.Consumer>\n              </span>\n            ) : (\n              <Fragment>\n                <Button\n                  type=\"danger\"\n                  size=\"small\"\n                  style={{ width: \"60px\", margin: \" 0 1em\" }}\n                  onClick={() => this.handleDelete(record.key)}\n                >\n                  Delete\n                </Button>\n                <Button\n                  type=\"primary\"\n                  size=\"small\"\n                  style={{ width: \"60px\" }}\n                  disabled={editingKey !== \"\"}\n                  onClick={() => this.edit(record.key)}\n                >\n                  Edit\n                </Button>\n              </Fragment>\n            );\n          }\n        }\n      ],\n\n      dataSource: [],\n      key: 0,\n      editingKey: \"\",\n      number: \"\",\n      type: \"\",\n      seats: \"\"\n    };\n    this.numberhandleChange = this.numberhandleChange.bind(this);\n    this.typehandleChange = this.typehandleChange.bind(this);\n    this.seatsHandleChange = this.seatsHandleChange.bind(this);\n  }\n\n  numberhandleChange(number) {\n    this.setState({\n      number: number\n    });\n  }\n\n  typehandleChange(type) {\n    this.setState({\n      type: type\n    });\n  }\n\n  seatsHandleChange(seats) {\n    this.setState({\n      seats: seats\n    });\n  }\n\n  isEditing = record => record.key === this.state.editingKey;\n\n  cancel = () => {\n    this.setState({ editingKey: \"\" });\n  };\n  edit(key) {\n    this.setState({ editingKey: key });\n  }\n\n  handleDelete = key => {\n    const dataSource = [...this.state.dataSource];\n    this.setState({ dataSource: dataSource.filter(item => item.key !== key) });\n  };\n\n  save(form, key) {\n    form.validateFields((error, row) => {\n      if (error) {\n        return;\n      }\n      const newData = [...this.state.dataSource];\n      const index = newData.findIndex(item => key === item.key);\n      if (index > -1) {\n        const item = newData[index];\n        newData.splice(index, 1, {\n          ...item,\n          ...row\n        });\n        this.setState({ dataSource: newData, editingKey: \"\" });\n      } else {\n        newData.push(row);\n        this.setState({ dataSource: newData, editingKey: \"\" });\n      }\n    });\n  }\n  components = {\n    header: {\n      cell: ResizeableTitle\n    },\n    body: {\n      cell: EditableCell\n    }\n  };\n  handleAdd = () => {\n    const { key, dataSource, number, type, seats } = this.state;\n    const newData = {\n      key: key,\n      number: number,\n      type: type,\n      seats: seats\n    };\n    if (number !== null && type !== \"\" && seats !== null) {\n      this.setState({\n        dataSource: [...dataSource, newData],\n        key: key + 1\n      });\n    }\n  };\n\n  handleResize = index => (e, { size }) => {\n    this.setState(({ columns }) => {\n      const nextColumns = [...columns];\n      nextColumns[index] = {\n        ...nextColumns[index],\n        width: size.width\n      };\n      return { columns: nextColumns };\n    });\n  };\n\n  render() {\n    const columns = this.state.columns.map((col, index) => {\n      if (!col.editable) {\n        return col;\n      }\n      return {\n        ...col,\n        onHeaderCell: column => ({\n          width: column.width,\n          onResize: this.handleResize(index)\n        }),\n        onCell: record => ({\n          record,\n          inputType: col.dataIndex === \"age\" ? \"number\" : \"text\",\n          dataIndex: col.dataIndex,\n          title: col.title,\n          editing: this.isEditing(record)\n        })\n      };\n    });\n    const { dataSource } = this.state;\n    return (\n      <Fragment>\n        <Content style={{ margin: \"2em 16px\" }}>\n          <div style={{ background: \"#fff\", padding: 24, minHeight: 280 }}>\n            <Row gutter={25}>\n              <Col span={5}>\n                <InputNumber\n                  placeholder=\"Table Number\"\n                  value={this.state.number}\n                  onChange={this.numberhandleChange}\n                  style={{ width: \"250px\" }}\n                />\n              </Col>\n              <Col span={5}>\n                <Select\n                  onChange={this.typehandleChange}\n                  defaultValue=\"select Type\"\n                  style={{ width: \"250px\" }}\n                >\n                  <Option value=\"round\">Round</Option>\n                  <Option value=\"square\">Square</Option>\n                </Select>\n              </Col>\n              <Col span={5}>\n                <InputNumber\n                  placeholder=\"seats\"\n                  value={this.state.seats}\n                  onChange={this.seatsHandleChange}\n                  style={{ width: \"250px\" }}\n                />\n              </Col>\n              <Col span={6}>\n                <Button\n                  onClick={this.handleAdd}\n                  type=\"primary\"\n                  style={{ marginBottom: 16, width: \"100px\" }}\n                >\n                  Add\n                </Button>\n              </Col>\n            </Row>\n\n            <EditableContext.Provider value={this.props.form}>\n              <Table\n                components={this.components}\n                columns={columns}\n                dataSource={dataSource}\n                bordered\n                rowClassName=\"editable-row\"\n                title={() => \"Dish Menu\"}\n                footer={() => \"Footer\"}\n                pagination={false}\n                scroll={{ y: 500 }}\n              />\n            </EditableContext.Provider>\n          </div>\n        </Content>\n      </Fragment>\n    );\n  }\n}\n\nconst WrappedHorizontalLoginForm = Form.create()(TableRes);\nexport default WrappedHorizontalLoginForm;\n"]},"metadata":{},"sourceType":"module"}