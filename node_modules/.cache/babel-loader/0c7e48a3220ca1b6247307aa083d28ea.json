{"ast":null,"code":"var _jsxFileName = \"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/src/components/Employee/components/Profile/profile.jsx\";\nimport React, { Component, Fragment } from \"react\";\nimport _ from \"lodash\";\nimport { getUser } from \"../../../../services/userServices\";\nimport { name } from \"../../../../config.json\";\nimport UserInfo from \"./userInfo\";\nimport Cabinet from \"./cabinet\";\n\nclass Profile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: [],\n      id: \"\",\n      first_name: \"\",\n      last_name: \"\",\n      age: \"\",\n      gender: \"\",\n      address: \"\",\n      email: \"\",\n      work_position: \"\",\n      phone_number: \"\",\n      password: \"\"\n    };\n\n    this.handleUpdate = () => {\n      const {\n        id,\n        first_name,\n        last_name,\n        age,\n        gender,\n        address,\n        email,\n        work_position,\n        phone_number,\n        password\n      } = this.state;\n      const newData = {\n        id: id,\n        first_name: first_name,\n        last_name: last_name,\n        age: age,\n        gender: gender,\n        address: address,\n        email: email,\n        work_position: work_position,\n        phone_number: phone_number,\n        password: password\n      };\n      console.log(newData);\n    };\n\n    this.handleNameChange = event => {\n      const value = event.target.value;\n      this.setState({ ...this.state,\n        [event.target.name]: value\n      });\n    };\n\n    this.handleAgeChange = event => {\n      this.setState({\n        age: event\n      });\n    };\n\n    this.handlePhoneChange = event => {\n      this.setState({\n        phone_number: event\n      });\n    };\n  }\n\n  async componentDidMount() {\n    await getUser().then(res => res.data).then(data => this.setState({\n      user: _.find(data, [\"last_name\", localStorage.getItem(name)])\n    }));\n    this.setState({\n      id: this.state.user.id,\n      first_name: this.state.user.first_name,\n      last_name: this.state.user.last_name,\n      age: this.state.user.age,\n      gender: this.state.user.gender,\n      address: this.state.user.address,\n      email: this.state.user.email,\n      work_position: this.state.user.work_position,\n      phone_number: this.state.user.phone_number,\n      password: this.state.user.password\n    });\n  }\n\n  render() {\n    const {\n      user,\n      first_name,\n      last_name,\n      gender,\n      age,\n      address,\n      email,\n      work_position,\n      phone_number,\n      password\n    } = this.state;\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(UserInfo, {\n      data: user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(Cabinet, {\n      first_name: first_name,\n      last_name: last_name,\n      gender: gender,\n      age: age,\n      address: address,\n      email: email,\n      work_position: work_position,\n      phone_number: phone_number,\n      password: password,\n      handleChange: this.handleNameChange,\n      handleAgeChange: this.handleAgeChange,\n      handlePhoneChange: this.handlePhoneChange,\n      handleUpdate: this.handleUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/abdurauf/Desktop/毕业设计/orginal/restaurant-management-system/plov/src/components/Employee/components/Profile/profile.jsx"],"names":["React","Component","Fragment","_","getUser","name","UserInfo","Cabinet","Profile","state","user","id","first_name","last_name","age","gender","address","email","work_position","phone_number","password","handleUpdate","newData","console","log","handleNameChange","event","value","target","setState","handleAgeChange","handlePhoneChange","componentDidMount","then","res","data","find","localStorage","getItem","render"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport _ from \"lodash\";\n\nimport { getUser } from \"../../../../services/userServices\";\nimport { name } from \"../../../../config.json\";\nimport UserInfo from \"./userInfo\";\nimport Cabinet from \"./cabinet\";\n\nclass Profile extends Component {\n  state = {\n    user: [],\n    id: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    age: \"\",\n    gender: \"\",\n    address: \"\",\n    email: \"\",\n    work_position: \"\",\n    phone_number: \"\",\n    password: \"\",\n  };\n  async componentDidMount() {\n    await getUser()\n      .then((res) => res.data)\n      .then((data) =>\n        this.setState({\n          user: _.find(data, [\"last_name\", localStorage.getItem(name)]),\n        })\n      );\n    this.setState({\n      id: this.state.user.id,\n      first_name: this.state.user.first_name,\n      last_name: this.state.user.last_name,\n      age: this.state.user.age,\n      gender: this.state.user.gender,\n      address: this.state.user.address,\n      email: this.state.user.email,\n      work_position: this.state.user.work_position,\n      phone_number: this.state.user.phone_number,\n      password: this.state.user.password,\n    });\n  }\n  handleUpdate = () => {\n    const {\n      id,\n      first_name,\n      last_name,\n      age,\n      gender,\n      address,\n      email,\n      work_position,\n      phone_number,\n      password,\n    } = this.state;\n    const newData = {\n      id: id,\n      first_name: first_name,\n      last_name: last_name,\n      age: age,\n      gender: gender,\n      address: address,\n      email: email,\n      work_position: work_position,\n      phone_number: phone_number,\n      password: password,\n    };\n    console.log(newData);\n  };\n  handleNameChange = (event) => {\n    const value = event.target.value;\n    this.setState({\n      ...this.state,\n      [event.target.name]: value,\n    });\n  };\n  handleAgeChange = (event) => {\n    this.setState({ age: event });\n  };\n  handlePhoneChange = (event) => {\n    this.setState({ phone_number: event });\n  };\n  render() {\n    const {\n      user,\n      first_name,\n      last_name,\n      gender,\n      age,\n      address,\n      email,\n      work_position,\n      phone_number,\n      password,\n    } = this.state;\n    return (\n      <Fragment>\n        <UserInfo data={user} />\n        <Cabinet\n          first_name={first_name}\n          last_name={last_name}\n          gender={gender}\n          age={age}\n          address={address}\n          email={email}\n          work_position={work_position}\n          phone_number={phone_number}\n          password={password}\n          handleChange={this.handleNameChange}\n          handleAgeChange={this.handleAgeChange}\n          handlePhoneChange={this.handlePhoneChange}\n          handleUpdate={this.handleUpdate}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}