{"ast":null,"code":"import _toConsumableArray from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// React\nimport React,{useState,useEffect}from\"react\";// Third Part\nimport{Layout,Input,Divider,Row,Col,Card,Typography}from\"antd\";import _ from\"lodash\";// custom\nimport{openNotification,HeaderTitle}from\"../../../custom\";// services\nimport{getReservation}from\"../../../../services/reservationServices\";var SearchReservation=function SearchReservation(){// state\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),reserv=_useState2[0],searchReserv=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),findedData=_useState4[0],setfindedData=_useState4[1];// get Table\nvar fetchReservation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getReservation().then(function(res){return res.data;}).then(function(data){return searchReserv(data);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);openNotification(\"error\",\"Can't get data\",\"Check connection\");case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function fetchReservation(){return _ref.apply(this,arguments);};}();// hook\nuseEffect(function(){fetchReservation();},[]);// searchMethod\nvar onSearchItem=function onSearchItem(value){var name=value.currentTarget.value;var customer=_.filter(reserv,[\"customer_name\",name]);var newData=_toConsumableArray(customer);setfindedData(newData);};return React.createElement(Layout.Content,{style:{margin:\"2em 16px\"},className:\"border border-secondary rounded\"},React.createElement(\"div\",{style:{background:\"#fff\",padding:24,minHeight:580}},React.createElement(HeaderTitle,{title:\"Search Reservation info\"}),React.createElement(Input,{onChange:function onChange(value){return onSearchItem(value);},placeholder:\"Enter Customer Name\",className:\"w-100 mt-4\"}),React.createElement(\"div\",{className:\"w-100\"},React.createElement(Divider,null)),React.createElement(Row,null,findedData.map(function(f){return React.createElement(Col,{key:f.id,span:8},React.createElement(Card,{key:f.id,className:\"border border-warning rounded m-2\",title:React.createElement(Typography.Title,{className:\" text-center bg-light border border-dark rounded\",level:4},\"Table: \".concat(f.table_number)),cover:React.createElement(Typography.Title,{level:2,className:\" text-center text-dark font-weight-lighter text-uppercase mt-5\"},f.customer_name)},React.createElement(Divider,null),React.createElement(Card.Meta,{title:React.createElement(Typography.Title,{level:4,className:\"border border-info rounded bg-light\"},\"Seats: \".concat(f.seats)),description:React.createElement(Typography.Text,{level:4},\"Date:\".concat(f.date))})));}))));};export default SearchReservation;","map":{"version":3,"sources":["/Users/abdurauf/Desktop/毕业设计/orginal/restaurant-management-system/plov/src/components/Employee/components/SearchReservation/searchReserv.jsx"],"names":["React","useState","useEffect","Layout","Input","Divider","Row","Col","Card","Typography","_","openNotification","HeaderTitle","getReservation","SearchReservation","reserv","searchReserv","findedData","setfindedData","fetchReservation","then","res","data","onSearchItem","value","name","currentTarget","customer","filter","newData","margin","background","padding","minHeight","map","f","id","table_number","customer_name","seats","date"],"mappings":"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","sourcesContent":["// React\nimport React, { useState, useEffect } from \"react\";\n\n// Third Part\nimport { Layout, Input, Divider, Row, Col, Card, Typography } from \"antd\";\nimport _ from \"lodash\";\n\n// custom\nimport { openNotification, HeaderTitle } from \"../../../custom\";\n\n// services\nimport { getReservation } from \"../../../../services/reservationServices\";\n\nconst SearchReservation = () => {\n  // state\n  const [reserv, searchReserv] = useState([]);\n  const [findedData, setfindedData] = useState([]);\n\n  // get Table\n  const fetchReservation = async () => {\n    try {\n      await getReservation()\n        .then(res => res.data)\n        .then(data => searchReserv(data));\n    } catch (error) {\n      openNotification(\"error\", \"Can't get data\", \"Check connection\");\n    }\n  };\n\n  // hook\n  useEffect(() => {\n    fetchReservation();\n  }, []);\n\n  // searchMethod\n  const onSearchItem = value => {\n    const name = value.currentTarget.value;\n    const customer = _.filter(reserv, [\"customer_name\", name]);\n    const newData = [...customer];\n    setfindedData(newData);\n  };\n\n  return (\n    <Layout.Content\n      style={{ margin: \"2em 16px\" }}\n      className=\"border border-secondary rounded\"\n    >\n      <div style={{ background: \"#fff\", padding: 24, minHeight: 580 }}>\n        <HeaderTitle title={\"Search Reservation info\"} />\n        <Input\n          onChange={value => onSearchItem(value)}\n          placeholder=\"Enter Customer Name\"\n          className=\"w-100 mt-4\"\n        />\n        <div className=\"w-100\">\n          <Divider />\n        </div>\n        <Row>\n          {findedData.map(f => (\n            <Col key={f.id} span={8}>\n              <Card\n                key={f.id}\n                className=\"border border-warning rounded m-2\"\n                title={\n                  <Typography.Title\n                    className=\" text-center bg-light border border-dark rounded\"\n                    level={4}\n                  >{`Table: ${f.table_number}`}</Typography.Title>\n                }\n                cover={\n                  <Typography.Title\n                    level={2}\n                    className=\" text-center text-dark font-weight-lighter text-uppercase mt-5\"\n                  >\n                    {f.customer_name}\n                  </Typography.Title>\n                }\n              >\n                <Divider />\n                <Card.Meta\n                  title={\n                    <Typography.Title\n                      level={4}\n                      className=\"border border-info rounded bg-light\"\n                    >{`Seats: ${f.seats}`}</Typography.Title>\n                  }\n                  description={\n                    <Typography.Text\n                      level={4}\n                    >{`Date:${f.date}`}</Typography.Text>\n                  }\n                />\n              </Card>\n            </Col>\n          ))}\n        </Row>\n      </div>\n    </Layout.Content>\n  );\n};\n\nexport default SearchReservation;\n"]},"metadata":{},"sourceType":"module"}