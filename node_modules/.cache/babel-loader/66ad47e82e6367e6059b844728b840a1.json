{"ast":null,"code":"var _jsxFileName = \"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/src/components/Employee/components/Order/components/orderContent.jsx\";\n// React\nimport React, { useState, Fragment } from \"react\"; // Third part\n\nimport { Layout, Divider, ConfigProvider, Radio } from \"antd\";\nimport enUS from \"antd/es/locale/en_US\";\nimport zhCN from \"antd/es/locale/zh_CN\";\nimport moment from \"moment\";\nimport \"moment/locale/zh-cn\";\nimport { Order, getOrder, DelteOrder, updateOrder } from \"../../../../../services/orderServices\"; // Custom\n\nimport { HeaderTitle, CustomDrawerButton, openNotification } from \"../../../../custom/\";\nimport * as All from \"./\";\nmoment.locale(\"en\");\nconst {\n  Content\n} = Layout;\n\nconst OrderContent = () => {\n  // state\n  const [DrawerVisible, setDrawerVisible] = useState();\n  const [orderData, setOrderData] = useState([]);\n  const [editableData, setEditableData] = useState({});\n  const [modalVisible, setModalVisible] = useState();\n  const [locale, setlocale] = useState(enUS);\n\n  const getData = async () => {\n    const changeLocale = e => {\n      const localeValue = e.target.value;\n      this.setState({\n        locale: localeValue\n      });\n\n      if (!localeValue) {\n        moment.locale(\"en\");\n      } else {\n        moment.locale(\"zh-cn\");\n      }\n    };\n\n    try {\n      await getOrder().then(res => res.data).then(data => setOrderData(data));\n    } catch (err) {\n      openNotification(\"error\", \"Can't get data\", \"Check connection\");\n    }\n  };\n\n  useState(() => {\n    getData();\n  }, []); // showDrawer\n\n  const showDrawer = () => {\n    setDrawerVisible(true);\n  };\n\n  const onClose = () => {\n    setDrawerVisible(false);\n    window.location.reload();\n  };\n\n  const handleAdd = async items => {\n    try {\n      await Order(items);\n    } catch (error) {\n      openNotification(\"error\", \"Can't order\", \"Check Connection\");\n    }\n  };\n\n  const handleDelete = async item => {\n    try {\n      await DelteOrder(item);\n    } catch (error) {\n      openNotification(\"error\", \"Can't delete Orders\", \"Check Connection\");\n    }\n  };\n\n  const handleEdit = data => {\n    const newdata = { ...data\n    };\n    setModalVisible(true);\n    setEditableData(newdata);\n  };\n\n  const handleUpdate = async items => {\n    try {\n      await updateOrder(items);\n    } catch (error) {\n      openNotification(\"error\", \"Can't update\", \"Check Your  Connection\");\n    }\n  };\n\n  const onCloseModa = () => {\n    setModalVisible(false);\n    window.location.reload();\n  };\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(Content, {\n    style: {\n      margin: \"2em 16px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      background: \"#fff\",\n      padding: 24,\n      minHeight: 280\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(HeaderTitle, {\n    title: \"Order Menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(CustomDrawerButton, {\n    title: \"Take order\",\n    showDrawer: showDrawer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), React.createElement(All.OrderDrawer, {\n    visible: DrawerVisible,\n    onClose: onClose,\n    handleAdd: handleAdd,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }), React.createElement(All.OrderedList, {\n    data: orderData,\n    handleDelete: handleDelete,\n    handleEdit: handleEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(All.EditModal, {\n    visible: modalVisible,\n    editableData: editableData,\n    onClose: onCloseModa,\n    handleUpdate: handleUpdate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(ConfigProvider, {\n    locale: locale,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(OrderContent, {\n    key: locale ? locale.locale : \"en\"\n    /* Have to refresh for production environment */\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  })), React.createElement(Radio.Group, {\n    value: locale,\n    onChange: this.changeLocale,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(Radio.Button, {\n    key: \"en\",\n    value: enUS,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"English\"), React.createElement(Radio.Button, {\n    key: \"cn\",\n    value: zhCN,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"\\u4E2D\\u6587\")))));\n};\n\nexport default OrderContent;","map":{"version":3,"sources":["/Users/abdurauf/Desktop/毕业设计/orginal/restaurant-management-system/plov/src/components/Employee/components/Order/components/orderContent.jsx"],"names":["React","useState","Fragment","Layout","Divider","ConfigProvider","Radio","enUS","zhCN","moment","Order","getOrder","DelteOrder","updateOrder","HeaderTitle","CustomDrawerButton","openNotification","All","locale","Content","OrderContent","DrawerVisible","setDrawerVisible","orderData","setOrderData","editableData","setEditableData","modalVisible","setModalVisible","setlocale","getData","changeLocale","e","localeValue","target","value","setState","then","res","data","err","showDrawer","onClose","window","location","reload","handleAdd","items","error","handleDelete","item","handleEdit","newdata","handleUpdate","onCloseModa","margin","background","padding","minHeight"],"mappings":"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","sourcesContent":["// React\nimport React, { useState, Fragment } from \"react\";\n\n// Third part\nimport { Layout, Divider, ConfigProvider, Radio } from \"antd\";\n\nimport enUS from \"antd/es/locale/en_US\";\nimport zhCN from \"antd/es/locale/zh_CN\";\nimport moment from \"moment\";\nimport \"moment/locale/zh-cn\";\nimport {\n  Order,\n  getOrder,\n  DelteOrder,\n  updateOrder\n} from \"../../../../../services/orderServices\";\n\n// Custom\nimport {\n  HeaderTitle,\n  CustomDrawerButton,\n  openNotification\n} from \"../../../../custom/\";\nimport * as All from \"./\";\n\nmoment.locale(\"en\");\nconst { Content } = Layout;\nconst OrderContent = () => {\n  // state\n  const [DrawerVisible, setDrawerVisible] = useState();\n  const [orderData, setOrderData] = useState([]);\n  const [editableData, setEditableData] = useState({});\n  const [modalVisible, setModalVisible] = useState();\n  const [locale, setlocale] = useState(enUS);\n\n  const getData = async () => {\n    const changeLocale = e => {\n      const localeValue = e.target.value;\n      this.setState({ locale: localeValue });\n      if (!localeValue) {\n        moment.locale(\"en\");\n      } else {\n        moment.locale(\"zh-cn\");\n      }\n    };\n\n    try {\n      await getOrder()\n        .then(res => res.data)\n        .then(data => setOrderData(data));\n    } catch (err) {\n      openNotification(\"error\", \"Can't get data\", \"Check connection\");\n    }\n  };\n\n  useState(() => {\n    getData();\n  }, []);\n\n  // showDrawer\n  const showDrawer = () => {\n    setDrawerVisible(true);\n  };\n  const onClose = () => {\n    setDrawerVisible(false);\n    window.location.reload();\n  };\n  const handleAdd = async items => {\n    try {\n      await Order(items);\n    } catch (error) {\n      openNotification(\"error\", \"Can't order\", \"Check Connection\");\n    }\n  };\n\n  const handleDelete = async item => {\n    try {\n      await DelteOrder(item);\n    } catch (error) {\n      openNotification(\"error\", \"Can't delete Orders\", \"Check Connection\");\n    }\n  };\n  const handleEdit = data => {\n    const newdata = { ...data };\n    setModalVisible(true);\n    setEditableData(newdata);\n  };\n\n  const handleUpdate = async items => {\n    try {\n      await updateOrder(items);\n    } catch (error) {\n      openNotification(\"error\", \"Can't update\", \"Check Your  Connection\");\n    }\n  };\n  const onCloseModa = () => {\n    setModalVisible(false);\n    window.location.reload();\n  };\n\n  return (\n    <Fragment>\n      <Content style={{ margin: \"2em 16px\" }}>\n        <div style={{ background: \"#fff\", padding: 24, minHeight: 280 }}>\n          <HeaderTitle title={\"Order Menu\"} />\n          <CustomDrawerButton title={\"Take order\"} showDrawer={showDrawer} />\n          <Divider />\n          <All.OrderDrawer\n            visible={DrawerVisible}\n            onClose={onClose}\n            handleAdd={handleAdd}\n          />\n          <All.OrderedList\n            data={orderData}\n            handleDelete={handleDelete}\n            handleEdit={handleEdit}\n          />\n          <All.EditModal\n            visible={modalVisible}\n            editableData={editableData}\n            onClose={onCloseModa}\n            handleUpdate={handleUpdate}\n          />\n          <ConfigProvider locale={locale}>\n            <OrderContent\n              key={\n                locale\n                  ? locale.locale\n                  : \"en\" /* Have to refresh for production environment */\n              }\n            />\n          </ConfigProvider>\n          <Radio.Group value={locale} onChange={this.changeLocale}>\n            <Radio.Button key=\"en\" value={enUS}>\n              English\n            </Radio.Button>\n            <Radio.Button key=\"cn\" value={zhCN}>\n              中文\n            </Radio.Button>\n          </Radio.Group>\n        </div>\n      </Content>\n    </Fragment>\n  );\n};\n\nexport default OrderContent;\n"]},"metadata":{},"sourceType":"module"}