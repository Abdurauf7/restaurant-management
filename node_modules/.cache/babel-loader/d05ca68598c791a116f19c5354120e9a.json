{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// react\nimport React,{useState,useEffect,Fragment}from\"react\";// third part\nimport{Layout,Divider}from\"antd\";// custom\nimport{CustomDrawerButton,HeaderTitle,openNotification}from\"../../../../custom/\";import*as All from\"./\";// services\nimport{getTable,deleteItems,editTables,addTables}from\"../../../../../services/tableServices\";var Content=Layout.Content;var TableContent=function TableContent(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),table=_useState2[0],setTable=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),visible=_useState4[0],setVisible=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),modalVisible=_useState6[0],setModalVisible=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),editTable=_useState8[0],setEdibtable=_useState8[1];var fetchTable=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getTable().then(function(res){return res.data;}).then(function(data){return setTable(data);}).catch(function(err){return openNotification(\"error\",\"Can't get information\",\"Please check connection\");});case 2:case\"end\":return _context.stop();}}},_callee);}));return function fetchTable(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchTable();},[]);//   Drawer\nvar showDrawer=function showDrawer(){setVisible(true);};var onClose=function onClose(){setVisible(false);window.location.reload();};var onHandleAdd=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(items){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return addTables(items);case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);openNotification(\"error\",\"Can't add Items\",\"Check connection\");case 8:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}));return function onHandleAdd(_x){return _ref2.apply(this,arguments);};}();var deleteTableItems=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(items){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return deleteItems(items);case 3:_context3.next=8;break;case 5:_context3.prev=5;_context3.t0=_context3[\"catch\"](0);openNotification(\"error\",\"Can't delete Items\",\"Check connection\");case 8:case\"end\":return _context3.stop();}}},_callee3,null,[[0,5]]);}));return function deleteTableItems(_x2){return _ref3.apply(this,arguments);};}();var editItems=function editItems(items){setModalVisible(true);setEdibtable(items);};var handleEdit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(items){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return editTables(items);case 2:setModalVisible(false);case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function handleEdit(_x3){return _ref4.apply(this,arguments);};}();var onModalClose=function onModalClose(){setModalVisible(false);window.location.reload();};return React.createElement(Fragment,null,React.createElement(Content,{style:{margin:\"2em 16px\"}},React.createElement(\"div\",{style:{background:\"#fff\",padding:24,minHeight:280},className:\"border border-dark rounded\"},React.createElement(HeaderTitle,{title:\"Table Menu\",legth:table.length}),React.createElement(CustomDrawerButton,{title:\"Add\",showDrawer:showDrawer}),React.createElement(All.TableDrawer,{visible:visible,onClose:onClose,onHandleAdd:onHandleAdd}),React.createElement(Divider,null),React.createElement(All.Table,{data:table,deleteTableItems:deleteTableItems,editItems:editItems}),React.createElement(All.EditModal,{visible:modalVisible,data:editTable,handleEdit:handleEdit,onClose:onModalClose}))));};export default TableContent;","map":{"version":3,"sources":["/Users/abdurauf/Desktop/毕业设计/orginal/restaurant-management-system/plov/src/components/Admin/components/TableComponent/components/tableContent.jsx"],"names":["React","useState","useEffect","Fragment","Layout","Divider","CustomDrawerButton","HeaderTitle","openNotification","All","getTable","deleteItems","editTables","addTables","Content","TableContent","table","setTable","visible","setVisible","modalVisible","setModalVisible","editTable","setEdibtable","fetchTable","then","res","data","catch","err","showDrawer","onClose","window","location","reload","onHandleAdd","items","deleteTableItems","editItems","handleEdit","onModalClose","margin","background","padding","minHeight","length"],"mappings":"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","sourcesContent":["// react\nimport React, { useState, useEffect, Fragment } from \"react\";\n\n// third part\nimport { Layout, Divider } from \"antd\";\n\n// custom\nimport {\n  CustomDrawerButton,\n  HeaderTitle,\n  openNotification\n} from \"../../../../custom/\";\nimport * as All from \"./\";\n\n// services\nimport {\n  getTable,\n  deleteItems,\n  editTables,\n  addTables\n} from \"../../../../../services/tableServices\";\n\nconst { Content } = Layout;\n\nconst TableContent = () => {\n  const [table, setTable] = useState([]);\n  const [visible, setVisible] = useState();\n  const [modalVisible, setModalVisible] = useState();\n  const [editTable, setEdibtable] = useState({});\n\n  const fetchTable = async () => {\n    // get tables\n    await getTable()\n      .then(res => res.data)\n      .then(data => setTable(data))\n      .catch(err =>\n        openNotification(\n          \"error\",\n          \"Can't get information\",\n          \"Please check connection\"\n        )\n      );\n  };\n\n  useEffect(() => {\n    fetchTable();\n  }, []);\n\n  //   Drawer\n  const showDrawer = () => {\n    setVisible(true);\n  };\n\n  const onClose = () => {\n    setVisible(false);\n    window.location.reload();\n  };\n  const onHandleAdd = async items => {\n    try {\n      await addTables(items);\n    } catch (error) {\n      openNotification(\"error\", \"Can't add Items\", \"Check connection\");\n    }\n  };\n\n  const deleteTableItems = async items => {\n    try {\n      await deleteItems(items);\n    } catch (error) {\n      openNotification(\"error\", \"Can't delete Items\", \"Check connection\");\n    }\n  };\n  const editItems = items => {\n    setModalVisible(true);\n    setEdibtable(items);\n  };\n  const handleEdit = async items => {\n    await editTables(items);\n    setModalVisible(false);\n  };\n\n  const onModalClose = () => {\n    setModalVisible(false);\n    window.location.reload();\n  };\n\n  return (\n    <Fragment>\n      <Content style={{ margin: \"2em 16px\" }}>\n        <div\n          style={{ background: \"#fff\", padding: 24, minHeight: 280 }}\n          className=\"border border-dark rounded\"\n        >\n          <HeaderTitle title=\"Table Menu\" legth={table.length} />\n          <CustomDrawerButton title=\"Add\" showDrawer={showDrawer} />\n          <All.TableDrawer\n            visible={visible}\n            onClose={onClose}\n            onHandleAdd={onHandleAdd}\n          />\n          <Divider />\n          <All.Table\n            data={table}\n            deleteTableItems={deleteTableItems}\n            editItems={editItems}\n          />\n          <All.EditModal\n            visible={modalVisible}\n            data={editTable}\n            handleEdit={handleEdit}\n            onClose={onModalClose}\n          />\n        </div>\n      </Content>\n    </Fragment>\n  );\n};\n\nexport default TableContent;\n"]},"metadata":{},"sourceType":"module"}