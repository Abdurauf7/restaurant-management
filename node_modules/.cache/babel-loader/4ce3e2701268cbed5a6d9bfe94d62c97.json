{"ast":null,"code":"var _jsxFileName = \"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/src/components/Admin/components/dish.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { Layout, Button, Table } from \"antd\";\nimport \"../../../assets/css/AdminForm.css\";\nimport WrappedDishForm from \"../../common/dishDrawer\";\nimport Title from \"../../common/title\";\nimport { getDishes, addDishes, deleteDishes } from \"../../../services/dishServices\";\nconst data = [{\n  key: \"1\",\n  firstName: \"John\",\n  lastName: \"Brown\",\n  age: 32,\n  address: \"New York No. 1 Lake Park\",\n  tags: [\"nice\", \"developer\"]\n}, {\n  key: \"2\",\n  firstName: \"Jim\",\n  lastName: \"Green\",\n  age: 42,\n  address: \"London No. 1 Lake Park\",\n  tags: [\"loser\"]\n}, {\n  key: \"3\",\n  firstName: \"Joe\",\n  lastName: \"Black\",\n  age: 32,\n  address: \"Sidney No. 1 Lake Park\",\n  tags: [\"cool\", \"teacher\"]\n}];\nconst columns = [{\n  title: \"Name\",\n  dataIndex: \"name\",\n  key: \"name\",\n  render: text => React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, text)\n}, {\n  title: \"Age\",\n  dataIndex: \"age\",\n  key: \"age\"\n}, {\n  title: \"Address\",\n  dataIndex: \"address\",\n  key: \"address\"\n}];\nconst {\n  Content\n} = Layout;\nconst {\n  Column\n} = Table;\n\nclass Dish extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      visible: false,\n      dataSource: []\n    };\n\n    this.showDrawer = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.onClose = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleAdd = async e => {\n      e.preventDefault();\n      await this.props.form.validateFieldsAndScroll((err, values) => {\n        if (!err) {\n          addDishes(values);\n          this.setState({\n            visible: false\n          });\n        }\n      });\n    };\n\n    this.handleDelete = async id => {\n      const orginaldata = this.state.dataSource;\n\n      try {\n        await deleteDishes(id);\n      } catch (err) {\n        this.setState({\n          dataSource: orginaldata\n        });\n      }\n    };\n  }\n\n  async populateDishTable() {\n    const {\n      data: dataSource\n    } = await getDishes();\n    this.setState({\n      dataSource\n    });\n  }\n\n  async componentDidMount() {\n    await this.populateDishTable();\n  }\n\n  render() {\n    const {\n      dataSource,\n      visible\n    } = this.state;\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Content, {\n      style: {\n        margin: \"2em 16px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        background: \"#fff\",\n        padding: 24,\n        minHeight: 280\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Title, {\n      title: \"DishMenu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        textAlign: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.showDrawer,\n      style: {\n        margin: \"2em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Add\")))));\n  }\n\n}\n\nexport default Dish;","map":{"version":3,"sources":["/Users/abdurauf/Desktop/毕业设计/orginal/restaurant-management-system/plov/src/components/Admin/components/dish.js"],"names":["React","Component","Fragment","Layout","Button","Table","WrappedDishForm","Title","getDishes","addDishes","deleteDishes","data","key","firstName","lastName","age","address","tags","columns","title","dataIndex","render","text","Content","Column","Dish","state","visible","dataSource","showDrawer","setState","onClose","handleAdd","e","preventDefault","props","form","validateFieldsAndScroll","err","values","handleDelete","id","orginaldata","populateDishTable","componentDidMount","margin","background","padding","minHeight","textAlign"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { Layout, Button, Table } from \"antd\";\nimport \"../../../assets/css/AdminForm.css\";\nimport WrappedDishForm from \"../../common/dishDrawer\";\nimport Title from \"../../common/title\";\nimport {\n  getDishes,\n  addDishes,\n  deleteDishes\n} from \"../../../services/dishServices\";\n\nconst data = [\n  {\n    key: \"1\",\n    firstName: \"John\",\n    lastName: \"Brown\",\n    age: 32,\n    address: \"New York No. 1 Lake Park\",\n    tags: [\"nice\", \"developer\"]\n  },\n  {\n    key: \"2\",\n    firstName: \"Jim\",\n    lastName: \"Green\",\n    age: 42,\n    address: \"London No. 1 Lake Park\",\n    tags: [\"loser\"]\n  },\n  {\n    key: \"3\",\n    firstName: \"Joe\",\n    lastName: \"Black\",\n    age: 32,\n    address: \"Sidney No. 1 Lake Park\",\n    tags: [\"cool\", \"teacher\"]\n  }\n];\nconst columns = [\n  {\n    title: \"Name\",\n    dataIndex: \"name\",\n    key: \"name\",\n    render: text => <a>{text}</a>\n  },\n  {\n    title: \"Age\",\n    dataIndex: \"age\",\n    key: \"age\"\n  },\n  {\n    title: \"Address\",\n    dataIndex: \"address\",\n    key: \"address\"\n  }\n];\n\nconst { Content } = Layout;\nconst { Column } = Table;\n\nclass Dish extends Component {\n  state = {\n    visible: false,\n    dataSource: []\n  };\n\n  async populateDishTable() {\n    const { data: dataSource } = await getDishes();\n    this.setState({ dataSource });\n  }\n\n  async componentDidMount() {\n    await this.populateDishTable();\n  }\n\n  showDrawer = () => {\n    this.setState({\n      visible: true\n    });\n  };\n  onClose = () => {\n    this.setState({\n      visible: false\n    });\n  };\n\n  handleAdd = async e => {\n    e.preventDefault();\n    await this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        addDishes(values);\n        this.setState({ visible: false });\n      }\n    });\n  };\n  handleDelete = async id => {\n    const orginaldata = this.state.dataSource;\n    try {\n      await deleteDishes(id);\n    } catch (err) {\n      this.setState({ dataSource: orginaldata });\n    }\n  };\n\n  render() {\n    const { dataSource, visible } = this.state;\n    return (\n      <Fragment>\n        <Content style={{ margin: \"2em 16px\" }}>\n          <div style={{ background: \"#fff\", padding: 24, minHeight: 280 }}>\n            <Title title=\"DishMenu\" />\n            <div style={{ textAlign: \"right\" }}>\n              <Button\n                type=\"primary\"\n                onClick={this.showDrawer}\n                style={{ margin: \"2em\" }}\n              >\n                Add\n              </Button>\n            </div>\n            {/* <WrappedDishForm\n              onClose={this.onClose}\n              visible={visible}\n              form={this.props.form}\n              handleSubmit={this.handleAdd}\n            /> */}\n            {/* <Table columns={columns} dataSource={data} /> */}\n          </div>\n        </Content>\n      </Fragment>\n    );\n  }\n}\n\nexport default Dish;\n"]},"metadata":{},"sourceType":"module"}