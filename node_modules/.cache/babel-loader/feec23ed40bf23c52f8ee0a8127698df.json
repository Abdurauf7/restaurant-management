{"ast":null,"code":"var _jsxFileName = \"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/src/components/custom/PrivateRoute.jsx\";\n// import React from \"react\";\n// import { Route, Redirect } from \"react-router-dom\";\n// import { getUser } from \"../../services/userServices\";\n// const PrivateRoute = ({ path, component: Component, render, ...rest }) => {\n//   return (\n//     <Route\n//       {...rest}\n//       render={props => {\n//         if (!getUser()) return <Redirect to=\"/\" />;\n//         return Component ? <Component {...props} /> : render(props);\n//       }}\n//     />\n//   );\n// };\n// export default PrivateRoute;\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nclass ProtectedRoute extends React.Component {\n  render() {\n    const Component = this.props.component;\n    const isAuthenticated = localStorage.getItem(\"token\");\n    return isAuthenticated ? React.createElement(Component, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }) : React.createElement(Redirect, {\n      to: {\n        pathname: \"/login\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default ProtectedRoute;","map":{"version":3,"sources":["/Users/abdurauf/Desktop/毕业设计/orginal/restaurant-management-system/plov/src/components/custom/PrivateRoute.jsx"],"names":["React","Redirect","ProtectedRoute","Component","render","props","component","isAuthenticated","localStorage","getItem","pathname"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,MAAMC,cAAN,SAA6BF,KAAK,CAACG,SAAnC,CAA6C;AAC3CC,EAAAA,MAAM,GAAG;AACP,UAAMD,SAAS,GAAG,KAAKE,KAAL,CAAWC,SAA7B;AACA,UAAMC,eAAe,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAxB;AAEA,WAAOF,eAAe,GACpB,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADoB,GAGpB,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE;AAAEG,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF;AAKD;;AAV0C;;AAa7C,eAAeR,cAAf","sourcesContent":["// import React from \"react\";\n// import { Route, Redirect } from \"react-router-dom\";\n// import { getUser } from \"../../services/userServices\";\n// const PrivateRoute = ({ path, component: Component, render, ...rest }) => {\n//   return (\n//     <Route\n//       {...rest}\n//       render={props => {\n//         if (!getUser()) return <Redirect to=\"/\" />;\n//         return Component ? <Component {...props} /> : render(props);\n//       }}\n//     />\n//   );\n// };\n\n// export default PrivateRoute;\n\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nclass ProtectedRoute extends React.Component {\n  render() {\n    const Component = this.props.component;\n    const isAuthenticated = localStorage.getItem(\"token\");\n\n    return isAuthenticated ? (\n      <Component />\n    ) : (\n      <Redirect to={{ pathname: \"/login\" }} />\n    );\n  }\n}\n\nexport default ProtectedRoute;\n"]},"metadata":{},"sourceType":"module"}