{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/abdurauf/Desktop/\\u6BD5\\u4E1A\\u8BBE\\u8BA1/orginal/restaurant-management-system/plov/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Modal,Form,Select,Input,DatePicker,InputNumber}from\"antd\";import{getTable}from\"../../../../../services/tableServices\";import{openNotification}from\"../../../../custom\";var layout={labelCol:{span:5},wrapperCol:{span:16}};var EditModal=function EditModal(_ref){var data=_ref.data,visible=_ref.visible,onClose=_ref.onClose,handleUpdate=_ref.handleUpdate;var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tableNumber=_useState2[0],setTableNumber=_useState2[1];var fetchTableNumber=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getTable().then(function(res){return res.data;}).then(function(data){return setTableNumber(data);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);openNotification(\"error\",\"Cant get tables\",\"Check connection\");case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function fetchTableNumber(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchTableNumber();},[]);return React.createElement(Modal,{closable:false,visible:visible,okText:\"Edit\",cancelText:\"Cancel\",onCancel:onClose,onOk:function onOk(){form.validateFields().then(function(values){form.resetFields();handleUpdate(values);}).catch(function(info){console.log(\"Validate Failed:\",info);});}},React.createElement(Form,Object.assign({},layout,{hideRequiredMark:true,onFinish:handleUpdate,form:form,initialValues:{id:data.id,table_number:data.table_number,customer_name:data.customer_name,seats:data.seats}}),React.createElement(Form.Item,{name:\"id\"},React.createElement(\"h6\",null,\"Edit Reservation\")),React.createElement(Form.Item,{label:\"Table Number\",name:\"table_number\",rules:[{required:true,message:\"Enter Table Number\"}]},React.createElement(Select,{placeholder:\"select table number\"},tableNumber.map(function(table){return React.createElement(Select.Option,{key:table.id,value:table.table_number},table.table_number);}))),React.createElement(Form.Item,{label:\"Cutomer Name\",name:\"customer_name\",rules:[{required:true,message:\"Enter Customer Name\"}]},React.createElement(Input,null)),React.createElement(Form.Item,{label:\"Enter the seats\",name:\"seats\",rules:[{required:true,message:\"Enter seats number\"}]},React.createElement(InputNumber,{min:0,className:\"w-100\"})),React.createElement(Form.Item,{label:\"Date\",name:\"date\",rules:[{required:true,message:\"Enter date\"}]},React.createElement(DatePicker.RangePicker,{showTime:true}))));};export default EditModal;","map":{"version":3,"sources":["/Users/abdurauf/Desktop/毕业设计/orginal/restaurant-management-system/plov/src/components/Employee/components/Reservation/components/editModal.jsx"],"names":["React","useEffect","useState","Modal","Form","Select","Input","DatePicker","InputNumber","getTable","openNotification","layout","labelCol","span","wrapperCol","EditModal","data","visible","onClose","handleUpdate","useForm","form","tableNumber","setTableNumber","fetchTableNumber","then","res","validateFields","values","resetFields","catch","info","console","log","id","table_number","customer_name","seats","required","message","map","table"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { Modal, Form, Select, Input, DatePicker, InputNumber } from \"antd\";\n\nimport { getTable } from \"../../../../../services/tableServices\";\nimport { openNotification } from \"../../../../custom\";\n\nconst layout = {\n  labelCol: {\n    span: 5\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\n\nconst EditModal = ({ data, visible, onClose, handleUpdate }) => {\n  const [form] = Form.useForm();\n  const [tableNumber, setTableNumber] = useState([]);\n\n  const fetchTableNumber = async () => {\n    try {\n      await getTable()\n        .then(res => res.data)\n        .then(data => setTableNumber(data));\n    } catch (error) {\n      openNotification(\"error\", \"Cant get tables\", \"Check connection\");\n    }\n  };\n\n  useEffect(() => {\n    fetchTableNumber();\n  }, []);\n  return (\n    <Modal\n      closable={false}\n      visible={visible}\n      okText=\"Edit\"\n      cancelText=\"Cancel\"\n      onCancel={onClose}\n      onOk={() => {\n        form\n          .validateFields()\n          .then(values => {\n            form.resetFields();\n            handleUpdate(values);\n          })\n          .catch(info => {\n            console.log(\"Validate Failed:\", info);\n          });\n      }}\n    >\n      <Form\n        {...layout}\n        hideRequiredMark\n        onFinish={handleUpdate}\n        form={form}\n        initialValues={{\n          id: data.id,\n          table_number: data.table_number,\n          customer_name: data.customer_name,\n          seats: data.seats\n        }}\n      >\n        <Form.Item name=\"id\">\n          <h6>Edit Reservation</h6>\n        </Form.Item>\n        <Form.Item\n          label=\"Table Number\"\n          name=\"table_number\"\n          rules={[{ required: true, message: \"Enter Table Number\" }]}\n        >\n          <Select placeholder=\"select table number\">\n            {tableNumber.map(table => (\n              <Select.Option key={table.id} value={table.table_number}>\n                {table.table_number}\n              </Select.Option>\n            ))}\n          </Select>\n        </Form.Item>\n        <Form.Item\n          label=\"Cutomer Name\"\n          name=\"customer_name\"\n          rules={[{ required: true, message: \"Enter Customer Name\" }]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label=\"Enter the seats\"\n          name=\"seats\"\n          rules={[{ required: true, message: \"Enter seats number\" }]}\n        >\n          <InputNumber min={0} className=\"w-100\" />\n        </Form.Item>\n        <Form.Item\n          label=\"Date\"\n          name=\"date\"\n          rules={[{ required: true, message: \"Enter date\" }]}\n        >\n          <DatePicker.RangePicker showTime />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default EditModal;\n"]},"metadata":{},"sourceType":"module"}